CREATE TABLE probrem18 (
a int
, b int
, n int
, PRIMARY KEY(a,b)
)

INSERT INTO probrem18
SELECT 1,1,75 UNION ALL
SELECT 2,1,95 UNION ALL
SELECT 2,2,64 UNION ALL
SELECT 3,1,17 UNION ALL
SELECT 3,2,47 UNION ALL
SELECT 3,3,82 UNION ALL
SELECT 4,1,18 UNION ALL
SELECT 4,2,35 UNION ALL
SELECT 4,3,87 UNION ALL
SELECT 4,4,10 UNION ALL
SELECT 5,1,20 UNION ALL
SELECT 5,2,04 UNION ALL
SELECT 5,3,82 UNION ALL
SELECT 5,4,47 UNION ALL
SELECT 5,5,65 UNION ALL
SELECT 6,1,19 UNION ALL
SELECT 6,2,01 UNION ALL
SELECT 6,3,23 UNION ALL
SELECT 6,4,75 UNION ALL
SELECT 6,5,03 UNION ALL
SELECT 6,6,34 UNION ALL
SELECT 7,1,88 UNION ALL
SELECT 7,2,02 UNION ALL
SELECT 7,3,77 UNION ALL
SELECT 7,4,73 UNION ALL
SELECT 7,5,07 UNION ALL
SELECT 7,6,63 UNION ALL
SELECT 7,7,67 UNION ALL
SELECT 8,1,99 UNION ALL
SELECT 8,2,65 UNION ALL
SELECT 8,3,04 UNION ALL
SELECT 8,4,28 UNION ALL
SELECT 8,5,06 UNION ALL
SELECT 8,6,16 UNION ALL
SELECT 8,7,70 UNION ALL
SELECT 8,8,92 UNION ALL
SELECT 9,1,41 UNION ALL
SELECT 9,2,41 UNION ALL
SELECT 9,3,26 UNION ALL
SELECT 9,4,56 UNION ALL
SELECT 9,5,83 UNION ALL
SELECT 9,6,40 UNION ALL
SELECT 9,7,80 UNION ALL
SELECT 9,8,70 UNION ALL
SELECT 9,9,33 UNION ALL
SELECT 10,1,41 UNION ALL
SELECT 10,2,48 UNION ALL
SELECT 10,3,72 UNION ALL
SELECT 10,4,33 UNION ALL
SELECT 10,5,47 UNION ALL
SELECT 10,6,32 UNION ALL
SELECT 10,7,37 UNION ALL
SELECT 10,8,16 UNION ALL
SELECT 10,9,94 UNION ALL
SELECT 10,10,29 UNION ALL
SELECT 11,1,53 UNION ALL
SELECT 11,2,71 UNION ALL
SELECT 11,3,44 UNION ALL
SELECT 11,4,65 UNION ALL
SELECT 11,5,25 UNION ALL
SELECT 11,6,43 UNION ALL
SELECT 11,7,91 UNION ALL
SELECT 11,8,52 UNION ALL
SELECT 11,9,97 UNION ALL
SELECT 11,10,51 UNION ALL
SELECT 11,11,14 UNION ALL
SELECT 12,1,70 UNION ALL
SELECT 12,2,11 UNION ALL
SELECT 12,3,33 UNION ALL
SELECT 12,4,28 UNION ALL
SELECT 12,5,77 UNION ALL
SELECT 12,6,73 UNION ALL
SELECT 12,7,17 UNION ALL
SELECT 12,8,78 UNION ALL
SELECT 12,9,39 UNION ALL
SELECT 12,10,68 UNION ALL
SELECT 12,11,17 UNION ALL
SELECT 12,12,57 UNION ALL
SELECT 13,1,91 UNION ALL
SELECT 13,2,71 UNION ALL
SELECT 13,3,52 UNION ALL
SELECT 13,4,38 UNION ALL
SELECT 13,5,17 UNION ALL
SELECT 13,6,14 UNION ALL
SELECT 13,7,91 UNION ALL
SELECT 13,8,43 UNION ALL
SELECT 13,9,58 UNION ALL
SELECT 13,10,50 UNION ALL
SELECT 13,11,27 UNION ALL
SELECT 13,12,29 UNION ALL
SELECT 13,13,48 UNION ALL
SELECT 14,1,63 UNION ALL
SELECT 14,2,66 UNION ALL
SELECT 14,3,04 UNION ALL
SELECT 14,4,68 UNION ALL
SELECT 14,5,89 UNION ALL
SELECT 14,6,53 UNION ALL
SELECT 14,7,67 UNION ALL
SELECT 14,8,30 UNION ALL
SELECT 14,9,73 UNION ALL
SELECT 14,10,16 UNION ALL
SELECT 14,11,69 UNION ALL
SELECT 14,12,87 UNION ALL
SELECT 14,13,40 UNION ALL
SELECT 14,14,31 UNION ALL
SELECT 15,1,04 UNION ALL
SELECT 15,2,62 UNION ALL
SELECT 15,3,98 UNION ALL
SELECT 15,4,27 UNION ALL
SELECT 15,5,23 UNION ALL
SELECT 15,6,09 UNION ALL
SELECT 15,7,70 UNION ALL
SELECT 15,8,98 UNION ALL
SELECT 15,9,73 UNION ALL
SELECT 15,10,93 UNION ALL
SELECT 15,11,38 UNION ALL
SELECT 15,12,53 UNION ALL
SELECT 15,13,60 UNION ALL
SELECT 15,14,04 UNION ALL
SELECT 15,15,23


WITH RECURSIVE temp (i,a,b,n) AS (
SELECT 15,A.a,A.b,A.n FROM probrem18 A WHERE A.a = 15

UNION ALL

SELECT B.i - 1,A.a,A.b,MAX(A.n+B.n) n
FROM
	probrem18 A
		INNER JOIN
			temp B
				ON A.a-1 = B.a
				AND B.b BETWEEN A.b AND A.b+1
WHERE B.i BETWEEN 2 AND 15
GROUP BY (B.i - 1),A.a,A.b
)
SELECT * FROM temp a